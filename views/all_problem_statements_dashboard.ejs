<%- include('layouts/header_dashboard')  %> 


    <!-- alert code  -->
      <% if(message) { %> 
        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
            <strong class="font-bold">Holy smokes!</strong>
            <span class="block sm:inline">Something seriously bad happened.</span>
            <span class="absolute top-0 bottom-0 right-0 px-4 py-3">
              <svg class="fill-current h-6 w-6 text-red-500" role="button" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><title>Close</title><path d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"/></svg>
            </span>
          </div>
   <% } %> 
    <!-- alert code  -->
   

   <!-- ====== Banner Section Start -->
   <div
   class="relative z-10 overflow-hidden bg-primary pt-[120px] pb-[100px] md:pt-[130px] lg:pt-[160px]"
 >
   <div class="container">
     <div class="-mx-4 flex flex-wrap items-center">
       <div class="w-full px-4">
         <div class="text-center">
           <h1 class="text-4xl font-semibold text-white">All Problem Statements</h1>
         </div>
       </div>
     </div>
   </div>
   <div>
     <span class="absolute top-0 left-0 z-[-1]">
       <svg
         width="495"
         height="470"
         viewBox="0 0 495 470"
         fill="none"
         xmlns="http://www.w3.org/2000/svg"
       >
         <circle
           cx="55"
           cy="442"
           r="138"
           stroke="white"
           stroke-opacity="0.04"
           stroke-width="50"
         />
         <circle
           cx="446"
           r="39"
           stroke="white"
           stroke-opacity="0.04"
           stroke-width="20"
         />
         <path
           d="M245.406 137.609L233.985 94.9852L276.609 106.406L245.406 137.609Z"
           stroke="white"
           stroke-opacity="0.08"
           stroke-width="12"
         />
       </svg>
     </span>
     <span class="absolute top-0 right-0 z-[-1]">
       <svg
         width="493"
         height="470"
         viewBox="0 0 493 470"
         fill="none"
         xmlns="http://www.w3.org/2000/svg"
       >
         <circle
           cx="462"
           cy="5"
           r="138"
           stroke="white"
           stroke-opacity="0.04"
           stroke-width="50"
         />
         <circle
           cx="49"
           cy="470"
           r="39"
           stroke="white"
           stroke-opacity="0.04"
           stroke-width="20"
         />
         <path
           d="M222.393 226.701L272.808 213.192L259.299 263.607L222.393 226.701Z"
           stroke="white"
           stroke-opacity="0.06"
           stroke-width="13"
         />
       </svg>
     </span>
   </div>
 </div>
 <!-- ====== Banner Section End -->

 <!-- ====== 404 Section Start -->
 <section class="bg-white py-14 lg:py-20">
   <div class="container">
    <div class="container my-8">
        <div class="overflow-x-auto relative shadow-md sm:rounded-lg">
          <div class="flex justify-center my-5">
            <div class="mb-3 xl:w-96">
              <div class="input-group relative flex flex-wrap items-stretch w-full mb-4 justify-center">
                <input type="search" id="myInput" onkeyup="showme()" class=" border-blue-200 form-control relative flex-auto min-w-0 block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none" placeholder="Search" aria-label="Search" aria-describedby="button-addon3">
                <button class="btn inline-block px-6 py-2 border-2 border-blue-600 text-blue-600 font-medium text-xs leading-tight uppercase rounded hover:text-white my-2 hover:bg-blue-600 hover:bg-opacity-5 focus:outline-none focus:ring-0 transition duration-150 ease-in-out" type="button" id="button-addon3">Search</button>
              </div>
            </div>
          </div>
            <table class="w-full text-sm text-left text-gray-400" id="myTable">
                <thead class="text-xs uppercase bg-gray-700 text-gray-400">
                    <tr>
                        <th scope="col" class="py-3 px-6">
                            ID
                        </th>
                        <th scope="col" class="py-3 px-6">
                            Title
                        </th>
                        <th scope="col" class="py-3 px-6">
                            Description
                        </th>
                        <th scope="col" class="py-3 px-6">
                            Theme
                        </th>
                        <th scope="col" class="py-3 px-6">
                            Category
                        </th>
                      
                        <th scope="col" class="py-3 px-6">
                            <span class="">Action</span>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <% statementsarr.forEach((row,index) => { %>
                     
                        <tr class="bg-gray-800 border-gray-700 hover:bg-gray-600">
                            <th scope="row" class="py-4 px-6 font-medium whitespace-nowrap text-white">
                               <%= index+1 %> 
                            </th>
                            <td class="py-4 px-6">
                                <%= row.title %> 
                            </td>
                            <td class="py-4 px-6">
                                <%= row.description.slice(0,40) %>... 
                            </td>
                            <td class="py-4 px-6">
                               <%= row.theme %> 
                            </td>
                            <td class="py-4 px-6">
                             <%= row.category %> 
                            </td>
                            <td class="py-2 px-4 text-right">
                                   <a href="/expand_ps_dashboard/<%- row._id %>">
    <button class="px-6 py-3 bg-blue-600 text-gray-100 rounded shadow" >
      Expand
    </button>
</a>
                            </td>
                        </tr>
                       

                    <% }) %>
                   
                </tbody>
            </table>
        </div>
        </div> 
        <div class="flex justify-center items-center">
            <a href="/get_problem_statement/<%- id %>" class="outline-none">
            <button class="bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded">
             Submit Your Problem Statement Details
            
              </button>
              </a>
        </div>
   </div>
 </section>
 <!-- ====== 404 Section End -->
 <script>
  function showme(){
    let filter=document.getElementById('myInput').value.toUpperCase();
    let myTable=document.getElementById('myTable');
    let tr=myTable.getElementsByTagName('tr');
    for(let i=0;i<tr.length;i++){
        let td=tr[i].getElementsByTagName('td')[2];
        if(td){
            let textvalue=td.textContent || td.innerHTML;
            if(textvalue.toUpperCase().indexOf(filter)>-1){
                tr[i].style.display='';
            }
            else{
                tr[i].style.display="none"
            }
        }
    }
   }

    var openmodal = document.querySelectorAll('.modal-open')
    console.log(openmodal)
    for (var i = 0; i < openmodal.length; i++) {
        openmodal[i].addEventListener('click', function(event) {
            event.preventDefault()
            toggleModal()
        })
    }

    const overlay = document.querySelector('.modal-overlay')
    overlay.addEventListener('click',()=>{
        const body = document.querySelector('body')
        const modal = document.querySelector('.modal')
        modal.classList.toggle('opacity-0')
        modal.classList.toggle('pointer-events-none')
        body.classList.toggle('modal-active')
    })

    var closemodal = document.querySelectorAll('.modal-close')
    for (var i = 0; i < closemodal.length; i++) {
        closemodal[i].addEventListener('click',()=>{
            const body = document.querySelector('body')
            const modal = document.querySelector('.modal')
            modal.classList.toggle('opacity-0')
            modal.classList.toggle('pointer-events-none')
            body.classList.toggle('modal-active')
        })
    }

    document.onkeydown = function(evt) {
        evt = evt || window.event
        var isEscape = false
        if ("key" in evt) {
            isEscape = (evt.key === "Escape" || evt.key === "Esc")
        } else {
            isEscape = (evt.keyCode === 27)
        }
        if (isEscape && document.body.classList.contains('modal-active')) {
           toggleModal()
        }
    };


    function toggleModal() {
        const body = document.querySelector('body')
            const modal = document.querySelector('.modal')
            modal.classList.toggle('opacity-0')
            modal.classList.toggle('pointer-events-none')
            body.classList.toggle('modal-active')
    }
</script>


          <%- include('layouts/footer_dashboard')  %> 